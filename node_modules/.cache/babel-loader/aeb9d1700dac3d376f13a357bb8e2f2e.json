{"ast":null,"code":"var _jsxFileName = \"/home/tbptbp/Desktop/Workspace/Website/hoangvu/src/Projects/FlightFlat.js\";\n\n/* global fetch */\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { StaticMap } from 'react-map-gl';\nimport DeckGL from '@deck.gl/react';\nimport { ArcLayer, ScatterplotLayer } from '@deck.gl/layers';\nimport { scaleQuantile } from 'd3-scale';\nimport tokens from '../secret/tokens.json';\nimport airports from './DataViz/Data/airports.json';\nimport routes from './DataViz/Data/routes.json'; // Set your mapbox token here\n\nconst MAPBOX_TOKEN = tokens.mapbox; // eslint-disable-line\n// Source data GeoJSON\n\nconst DATA_URL = 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json'; // eslint-disable-line\n\nconst INITIAL_VIEW_STATE = {\n  longitude: 0,\n  latitude: 30,\n  zoom: 1.5,\n  maxZoom: 15,\n  pitch: 30,\n  bearing: 30\n};\n/* eslint-disable react/no-deprecated */\n\nexport default class FlightFlat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewState: INITIAL_VIEW_STATE\n    };\n    this._onViewStateChange = this._onViewStateChange.bind(this);\n    this._renderTooltip = this._renderTooltip.bind(this);\n  }\n\n  _onViewStateChange({\n    viewState\n  }) {\n    this.setState({\n      viewState\n    });\n  }\n\n  _renderTooltip() {\n    const {\n      x,\n      y,\n      hoveredCounty\n    } = this.state;\n    return hoveredCounty && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tooltip\",\n      style: {\n        left: x,\n        top: y\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, hoveredNode.label);\n  }\n\n  render() {\n    const {\n      mapStyle = 'mapbox://styles/mapbox/dark-v9'\n    } = this.props;\n    const {\n      viewState\n    } = this.state;\n    const layers = [new ScatterplotLayer({\n      id: 'airports',\n      data: airports,\n      pickable: true,\n      opacity: 1,\n      stroked: true,\n      filled: true,\n      radiusScale: 6,\n      getRadius: 3000,\n      getPosition: d => d.position,\n      getFillColor: [113, 200, 235],\n      transitions: {\n        getRadius: {\n          type: 'interpolation',\n          duration: 5000,\n          easing: value => value * 1.1 // grow from size 0\n\n        },\n        getFillColor: {\n          duration: 3000,\n          enter: value => [0, 0, 0]\n        }\n      },\n      onHover: ({\n        object,\n        x,\n        y\n      }) => {\n        const tooltip = `${object.from.label} to ${object.to.label}`;\n      }\n    }), new ArcLayer({\n      id: 'flights',\n      data: routes,\n      pickable: true,\n      getHeight: () => Math.random() * 0.3 + 0.3,\n      getWidth: 0.2,\n      opacity: 0.7,\n      getSourcePosition: d => d.from,\n      getTargetPosition: d => d.to,\n      getSourceColor: [0, 207, 82],\n      getTargetColor: [0, 198, 144],\n      transitions: {\n        getSourceColor: {\n          duration: 5000,\n          enter: value => [0, 0, 0]\n        },\n        getTargetColor: {\n          duration: 10000,\n          enter: value => [0, 0, 0]\n        }\n      }\n    })];\n    return /*#__PURE__*/React.createElement(DeckGL, {\n      viewState: viewState,\n      position: \"relative\",\n      layers: layers,\n      initialViewState: INITIAL_VIEW_STATE,\n      controller: true,\n      parameters: {\n        clearColor: [0.04, 0.04, 0.04, 0.5]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(StaticMap, {\n      position: \"relative\",\n      reuseMaps: true,\n      mapStyle: mapStyle,\n      preventStyleDiffing: true,\n      mapboxApiAccessToken: MAPBOX_TOKEN,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/tbptbp/Desktop/Workspace/Website/hoangvu/src/Projects/FlightFlat.js"],"names":["React","Component","render","StaticMap","DeckGL","ArcLayer","ScatterplotLayer","scaleQuantile","tokens","airports","routes","MAPBOX_TOKEN","mapbox","DATA_URL","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","pitch","bearing","FlightFlat","constructor","props","state","viewState","_onViewStateChange","bind","_renderTooltip","setState","x","y","hoveredCounty","left","top","hoveredNode","label","mapStyle","layers","id","data","pickable","opacity","stroked","filled","radiusScale","getRadius","getPosition","d","position","getFillColor","transitions","type","duration","easing","value","enter","onHover","object","tooltip","from","to","getHeight","Math","random","getWidth","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","clearColor"],"mappings":"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","sourcesContent":["/* global fetch */\nimport React, {Component} from 'react';\nimport {render} from 'react-dom';\nimport {StaticMap} from 'react-map-gl';\nimport DeckGL from '@deck.gl/react';\nimport {ArcLayer, ScatterplotLayer} from '@deck.gl/layers';\nimport {scaleQuantile} from 'd3-scale';\n\nimport tokens from '../secret/tokens.json';\nimport airports from './DataViz/Data/airports.json';\nimport routes from './DataViz/Data/routes.json';\n// Set your mapbox token here\nconst MAPBOX_TOKEN = tokens.mapbox; // eslint-disable-line\n\n// Source data GeoJSON\nconst DATA_URL =\n  'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json'; // eslint-disable-line\n\nconst INITIAL_VIEW_STATE = {\n  longitude: 0,\n  latitude: 30,\n  zoom: 1.5,\n  maxZoom: 15,\n  pitch: 30,\n  bearing: 30\n};\n\n/* eslint-disable react/no-deprecated */\nexport default class FlightFlat extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      viewState: INITIAL_VIEW_STATE\n    };\n\n    this._onViewStateChange = this._onViewStateChange.bind(this);\n    this._renderTooltip = this._renderTooltip.bind(this);\n  }\n\n  _onViewStateChange({viewState}) {\n   this.setState({viewState});\n }\n\n _renderTooltip() {\n    const {x, y, hoveredCounty} = this.state;\n    return (\n      hoveredCounty && (\n        <div className=\"tooltip\" style={{left: x, top: y}}>\n          {hoveredNode.label}\n        </div>\n      )\n    );\n  }\n\n  render() {\n    const {mapStyle = 'mapbox://styles/mapbox/dark-v9'} = this.props;\n    const {viewState} = this.state;\n\n    const layers = [\n      new ScatterplotLayer({\n        id: 'airports',\n        data: airports,\n        pickable: true,\n        opacity: 1,\n        stroked: true,\n        filled: true,\n        radiusScale: 6,\n        getRadius: 3000,\n        getPosition: d => d.position,\n        getFillColor: [113, 200, 235],\n        transitions: {\n          getRadius: {\n            type: 'interpolation',\n            duration: 5000,\n            easing: value => value * 1.1 // grow from size 0\n          },\n          getFillColor: {\n            duration: 3000,\n            enter: value => [0, 0, 0]\n          }\n        },\n        onHover: ({object, x, y}) => {\n          const tooltip = `${object.from.label} to ${object.to.label}`;\n        }\n      }),\n      new ArcLayer({\n        id: 'flights',\n        data: routes,\n        pickable: true,\n        getHeight: () => Math.random() * 0.3 + 0.3,\n        getWidth: 0.2,\n        opacity: 0.7,\n        getSourcePosition: d => d.from,\n        getTargetPosition: d => d.to,\n        getSourceColor: [0, 207, 82],\n        getTargetColor: [0, 198, 144],\n        transitions: {\n          getSourceColor: {\n            duration: 5000,\n            enter: value => [0, 0, 0]\n          },\n          getTargetColor: {\n            duration: 10000,\n            enter: value => [0,0,0]\n          }\n        },\n      })\n    ];\n\n    return (\n        <DeckGL\n          viewState={viewState}\n          position='relative'\n          layers={layers}\n          initialViewState={INITIAL_VIEW_STATE}\n          controller={true}\n          parameters={{\n            clearColor:[0.04,0.04,0.04,0.5]\n          }}\n        >\n          <StaticMap\n            position='relative'\n            reuseMaps\n            mapStyle={mapStyle}\n            preventStyleDiffing={true}\n            mapboxApiAccessToken={MAPBOX_TOKEN}\n          />\n\n        </DeckGL>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}