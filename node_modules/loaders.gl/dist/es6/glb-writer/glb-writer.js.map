{"version":3,"sources":["../../../src/glb-writer/glb-writer.js"],"names":["GLBBuilder","toBuffer","encodeGLB","json","options","encode","writeGLBtoFile","filePath","glbFileBuffer","fs","module","require","writeFileSync","flag","name","extension","encodeToBinary","writeToFile"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,eAAvB;AACA,SAAQC,QAAR,QAAuB,qCAAvB;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,OAAzB,EAAkC;AAChC,SAAO,IAAIJ,UAAJ,GAAiBK,MAAjB,CAAwBF,IAAxB,EAA8BC,OAA9B,CAAP;AACD;;AAED,OAAO,SAASE,cAAT,CAAwBC,QAAxB,EAAkCH,OAAlC,EAA2CD,IAA3C,EAAiD;AACtD,QAAMK,aAAa,GAAGN,SAAS,CAACC,IAAD,EAAOC,OAAP,CAA/B;;AACA,QAAMK,EAAE,GAAGC,MAAM,CAACC,OAAP,CAAe,IAAf,CAAX;;AACAF,EAAAA,EAAE,CAACG,aAAH,CAAkB,GAAEL,QAAS,MAA7B,EAAoCN,QAAQ,CAACO,aAAD,CAA5C,EAA6D;AAACK,IAAAA,IAAI,EAAE;AAAP,GAA7D,EAHsD,CAItD;;AACA,SAAOL,aAAP;AACD;AAED,eAAe;AACbM,EAAAA,IAAI,EAAE,KADO;AAEbC,EAAAA,SAAS,EAAE,KAFE;AAGbC,EAAAA,cAAc,EAAEd,SAHH;AAIbe,EAAAA,WAAW,EAAEX;AAJA,CAAf","sourcesContent":["import GLBBuilder from './glb-builder';\nimport {toBuffer} from '../common/loader-utils/binary-utils';\n\nfunction encodeGLB(json, options) {\n  return new GLBBuilder().encode(json, options);\n}\n\nexport function writeGLBtoFile(filePath, options, json) {\n  const glbFileBuffer = encodeGLB(json, options);\n  const fs = module.require('fs');\n  fs.writeFileSync(`${filePath}.glb`, toBuffer(glbFileBuffer), {flag: 'w'});\n  // console.log(`Wrote ${filePath}.glb`);\n  return glbFileBuffer;\n}\n\nexport default {\n  name: 'GLB',\n  extension: 'glb',\n  encodeToBinary: encodeGLB,\n  writeToFile: writeGLBtoFile\n};\n"],"file":"glb-writer.js"}