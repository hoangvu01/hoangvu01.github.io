{"version":3,"sources":["../../../../src/common/loader-utils/text-encoder.js"],"names":["utf8Encodings","TextEncoderPolyfill","encoding","indexOf","RangeError","str","TypeError","binstr","unescape","encodeURIComponent","arr","Uint8Array","length","split","forEach","char","i","charCodeAt","window","TextEncoder"],"mappings":";;;;;;AAAA;;AACA;AAEA;AACA,IAAMA,aAAa,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkB,mBAAlB,CAAtB;;IAEMC,mB;;;AACJ,+BAAYC,QAAZ,EAAsB;AAAA;;AACpB,QACEF,aAAa,CAACG,OAAd,CAAsBD,QAAtB,IAAkC,CAAlC,IACA,OAAOA,QAAP,KAAoB,WADpB,IAEAA,QAAQ,KAAK,IAHf,EAIE;AACA,YAAM,IAAIE,UAAJ,CAAe,gDAAf,CAAN;AACD,KAND,MAMO;AACL,WAAKF,QAAL,GAAgB,OAAhB;AACD;AACF;;;;2BAEMG,G,EAAK;AACV,UAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,cAAM,IAAIC,SAAJ,CAAc,uCAAd,CAAN;AACD;;AACD,UAAMC,MAAM,GAAGC,QAAQ,CAACC,kBAAkB,CAACJ,GAAD,CAAnB,CAAvB;AACA,UAAMK,GAAG,GAAG,IAAIC,UAAJ,CAAeJ,MAAM,CAACK,MAAtB,CAAZ;AACAL,MAAAA,MAAM,CAACM,KAAP,CAAa,EAAb,EAAiBC,OAAjB,CAAyB,UAACC,IAAD,EAAOC,CAAP,EAAa;AACpCN,QAAAA,GAAG,CAACM,CAAD,CAAH,GAASD,IAAI,CAACE,UAAL,CAAgB,CAAhB,CAAT;AACD,OAFD;AAGA,aAAOP,GAAP;AACD;;;;;;AAGH,eAAe,OAAOQ,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACC,WAAvC,GAAqDlB,mBAApE","sourcesContent":["// The MIT License (MIT) Copyright (c) 2016 Till Affeldt\n/* global window */\n\n// allowed encoding strings for utf-8\nconst utf8Encodings = ['utf8', 'utf-8', 'unicode-1-1-utf-8'];\n\nclass TextEncoderPolyfill {\n  constructor(encoding) {\n    if (\n      utf8Encodings.indexOf(encoding) < 0 &&\n      typeof encoding !== 'undefined' &&\n      encoding !== null\n    ) {\n      throw new RangeError('Invalid encoding type. Only utf-8 is supported');\n    } else {\n      this.encoding = 'utf-8';\n    }\n  }\n\n  encode(str) {\n    if (typeof str !== 'string') {\n      throw new TypeError('passed argument must be of tye string');\n    }\n    const binstr = unescape(encodeURIComponent(str));\n    const arr = new Uint8Array(binstr.length);\n    binstr.split('').forEach((char, i) => {\n      arr[i] = char.charCodeAt(0);\n    });\n    return arr;\n  }\n}\n\nexport default typeof window !== 'undefined' ? window.TextEncoder : TextEncoderPolyfill;\n"],"file":"text-encoder.js"}